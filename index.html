<!DOCTYPE html>

<html>

<head>
	<meta charset="utf-8" />
	<meta name="viewport"
		content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	<title>首都消费数据大屏设计</title>
	<link rel="stylesheet" href="css/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css" href="css/app.css" />

</head>

<body>
	<header id="header">
		<h3 class="header-title" style="margin-top: 0px;">首都消费数据大屏设计</h3>
		<div class="header-info header-info-l">数据来源：XXX</div>
		<div class="header-info header-info-r">数据日期：<span id="nowDate"></span></div>
	</header>

	<!-- <footer id="footer"></footer> -->

	<div class="wrapper">
		<div class="container-fluid">
			<div class="row fill-h">
				<div class="col-lg-6 fill-h">
					<div class="xpanel-wrapper xpanel-wrapper-1">
						<div class="xpanel flex-container-column">
							<div class="chart-wrapper flex2">
								<h3 class="chart-title">整体情况</h3>
								<div class="chart-div chart-done">
									<table class="data-t" style="text-align: center;">
										<tr>
											<td>
												<p>交易总金额</p>
												<p><span id="listedCompany">9,205,366,423</span></p>
												<p>较2023同比增长18.24%</p>
												<p>较2019同比增长190.28%</p>
											</td>
											<td>
												<p>交易总笔数</p>
												<p><span id="listedSecurity">111,362,813</span></p>
												<p>较2023同比增长36.00%</p>
												<p>较2019同比增长148.03%</p>
											</td>
											<td>
												<p>笔均交易金额</p>
												<p><span id="totalMarket">82.66</span></p>
												<p>较2023同比增长-13.06%</p>
												<p>较2019同比增长17.04%</p>
											</td>
											<td>
												<p>店均交易金额</p>
												<p><span id="shRatio">75,171.54</span></p>
												<p>较2023同比增长-4.28%</p>
												<p>较2019同比增长70.05%</p>
											</td>
											<td>
												<p>店均交易笔数</p>
												<p><span id="circulationMarket">907.76</span></p>
												<p>较2023同比增长11.09%</p>
												<p>较2019同比增长45.50%</p>
											</td>

										</tr>
									</table>
								</div>
							</div>
							<div class="flex9 flex-container-row">
								<div class="flex3 flex-container-column">
									<div class="chart-wrapper flex4">
										<h3 class="chart-title">1、2、3月柱状图五个指标</h3>
										<ul id="myTab" class="nav nav-tabs flex-container-row">
											<li class="active flex1">
												<a href="#indicator-1" data-toggle="tab">指标1</a>
											</li>
											<li class="flex1"><a href="#indicator-2" data-toggle="tab">指标2</a></li>
											<li class="flex1"><a href="#indicator-3" data-toggle="tab">指标3</a></li>
											<li class="flex1"><a href="#indicator-4" data-toggle="tab">指标4</a></li>
											<li class="flex1"><a href="#indicator-5" data-toggle="tab">指标5</a></li>
										</ul>

										<div id="myTabContent" class="tab-content" style="height: 100%;">
											<div class="tab-pane fade in active" id="indicator-1" style="height: 100%;">
												<div class="chart-div2" id="indicator-bar-chart">
												</div>
											</div>
											<div class="tab-pane fade" id="indicator-2" style="height: 100%;">
												<div class="chart-div2" id="indicator-bar-chart">
												</div>
											</div>
											<div class="tab-pane fade" id="indicator-3" style="height: 100%;">
												<div class="chart-div2" id="indicator-bar-chart">
												</div>
											</div>
											<div class="tab-pane fade" id="indicator-4" style="height: 100%;">
												<div class="chart-div2" id="indicator-bar-chart">
												</div>
											</div>
											<div class="tab-pane fade" id="indicator-5" style="height: 100%;">
												<div class="chart-div2" id="indicator-bar-chart">
												</div>
											</div>
										</div>
									</div>
									<div class="chart-wrapper flex5">
										<h3 class="chart-title">各行业排名</h3>
										<div class="chart-div" id="rankChart">
											<!-- <div class="chart-loader">
												<div class="loader"></div>
											</div> -->
										</div>
									</div>
								</div>
								<div class="flex5 flex-container-column">
									<div class="chart-wrapper flex5">
										<div class="flex-container-row" style="height: 100%;">
											<div class="chart-wrapper flex5">
												<h3 class="chart-title">各城区热力图</h3>
												<div class="chart-div" id="map-area-chart">
												</div>
											</div>
											<div class="chart-wrapper flex2">
												<h3 class="chart-title">各城区排名</h3>
												<div class="chart-div flex-container-column" id="map-area-rank-chart">
												</div>
											</div>
										</div>
									</div>
									<div class="chart-wrapper flex5">
										<div class="flex-container-row" style="height: 100%;">
											<div class="chart-wrapper flex5">
												<h3 class="chart-title">各商圈热力图</h3>
												<div class="chart-div" id="map-business-chart">
												</div>
											</div>
											<div class="chart-wrapper flex2">
												<h3 class="chart-title">各商圈排名</h3>
												<div class="chart-div flex-container-column"
													id="map-business-rank-chart">
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="xpanel-wrapper-footer"></div>
					</div>
				</div>

				<div class="col-lg-6 fill-h">
					<div class="xpanel-wrapper xpanel-wrapper-1">
						<div class="xpanel flex-container-column">
							<div class="chart-wrapper flex2">
								<h3 class="chart-title">各城区交易类型</h3>
								<div class="chart-div chart-done">
									<table class="data-t" style="text-align: center;">
										<tr>
											<td>
												<p>交易总金额</p>
												<p><span id="listedCompany">0</span></p>
												<p>一季度同比增长%</p>
											</td>
											<td>
												<p>交易总笔数</p>
												<p><span id="listedSecurity">0</span></p>
												<p>一季度同比增长%</p>
											</td>
											<td>
												<p>笔均消费金额</p>
												<p><span id="totalMarket">0</span></p>
												<p>一季度同比增长%</p>
											</td>
											<td>
												<p>店均交易金额</p>
												<p><span id="shRatio">0</span></p>
												<p>一季度同比增长%</p>
											</td>
											<td>
												<p>店均交易笔数</p>
												<p><span id="circulationMarket">0</span></p>
												<p>一季度同比增长%</p>
											</td>

										</tr>
									</table>
								</div>
							</div>
							<div class="flex9 flex-container-row">
								<!-- <div class="chart-wrapper flex3">
									<h3 class="chart-title">活力商圈榜单
									</h3>
									<div class="chart-div chart-done">
									</div>
								</div>
								<div class="chart-wrapper flex3">
									<h3 class="chart-title">各行业
									</h3>
									<div class="chart-div chart-done">
									</div>
								</div>
								<div class="chart-wrapper flex3">
									<h3 class="chart-title">规模行业、成长行业
									</h3>
									<div class="chart-div chart-done">
									</div>
								</div> -->
								<div class="chart-wrapper flex3">
									<h3 class="chart-title">气泡图
									</h3>
									<div class="chart-div" id="bubble-chart">
									</div>
								</div>

							</div>


						</div>
						<div class="xpanel-wrapper-footer"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- 
	<div id="container">
		<div id="flexCon">
			<div class="flex-row">
				<div class="flex-cell flex-cell-l">
					<div class="chart-wrapper">
						<h3 class="chart-title">市价总值排行Top10</h3>
						<div class="chart-div" id="rankChart">
							<div class="chart-loader">
								<div class="loader"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="flex-cell flex-cell-c" style="padding-right:0;">
					<div class="chart-wrapper">
						<h3 class="chart-title">统计数据</h3>
						<div class="chart-div chart-done">
							<table class="data-t">
								<tr>
									<th><img src="img/icon-01.png" /></th>
									<td>
										<p><span id="listedCompany">0</span></p>
										<p>上市公司数</p>
									</td>
									<th><img src="img/icon-02.png" /></th>
									<td>
										<p><span id="listedSecurity">0</span></p>
										<p>上市证券数</p>
									</td>
								</tr>
								<tr>
									<th><img src="img/icon-03.png" /></th>
									<td>
										<p><span id="totalMarket">0</span></p>
										<p>股票总市值（亿元）</p>
									</td>
									<th><img src="img/icon-04.png" /></th>
									<td>
										<p><span id="circulationMarket">0</span></p>
										<p>股票流通市值（亿元）</p>
									</td>
								</tr>
								<tr>
									<th><img src="img/icon-05.png" /></th>
									<td>
										<p><span id="shRatio">0</span></p>
										<p>上市平均市盈率</p>
									</td>
									<th><img src="img/icon-06.png" /></th>
									<td>
										<p><span id="szRatio">0</span></p>
										<p>深市平均市盈率</p>
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
				<div class="flex-cell flex-cell-r" style="padding-left:0;">
					<div class="chart-wrapper">
						<h3 class="chart-title">上市公司地域分布</h3>
						<div class="chart-div" id="mapChart">
							<div class="chart-loader">
								<div class="loader"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="flex-row">
				<div class="flex-cell flex-cell-lc" style="padding-bottom:0;">
					<div class="chart-wrapper">
						<h3 class="chart-title">2018年月度股票情况及预测</h3>
						<div class="chart-div" id="trendChart">
							<div class="chart-loader">
								<div class="loader"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="flex-cell flex-cell-r" style="padding-bottom:0;">
					<div class="chart-wrapper">
						<h3 class="chart-title">CSRC行业分类</h3>
						<div class="chart-div" id="csrcChart">
							<div class="chart-loader">
								<div class="loader"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div> -->

	<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
	<script type="text/javascript" src="js/countUp.min.js"></script>
	<script type="text/javascript" src="js/echarts55.min.js"></script>
	<script type="text/javascript" src="js/echarts-map-china.js"></script>
	<script type="text/javascript" src="js/echarts-theme-shine.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/beijing.js"></script>
	<script type="text/javascript" src="js/index.js"></script>

	<script type="text/javascript">
		$(function () {
			//获取当天日期
			(function () {
				const now = new Date();
				const year = now.getFullYear();
				const month = now.getMonth() + 1;
				const day = now.getDate();
				$("#nowDate").html(year + "年" + month + "月" + day + "日");
			})();

			//获取统计数据
			// $.ajax({
			// 	url: "data/count-data.json",
			// 	dataType: "json"
			// }).done(function (data) {
			// 	//console.log('Data: ', data);
			// 	rollNum("listedCompany", 0, data.listed_companies_total);
			// 	rollNum("listedSecurity", 0, data.listed_securities_total);
			// 	rollNum("totalMarket", 0, data.total_market_value, 2);
			// 	rollNum("circulationMarket", 0, data.circulation_market_value, 0);
			// 	rollNum("shRatio", 0, data.sh_pe_ratio, 2);
			// 	rollNum("szRatio", 0, data.sz_pe_ratio, 2);
			// }).fail(function (jqXHR, textStatus) {
			// 	console.log("Ajax Error: ", textStatus);
			// });


			// //获取地域分布数据
			// const mapChart = echarts.init(document.getElementById("mapChart"), "shine");
			// const mapChartOpt = {
			// 	tooltip: {
			// 		formatter: function (params) {
			// 			const data = params.data;
			// 			return data.name + "<br />上市公司数：" + data.value;
			// 		}
			// 	},
			// 	visualMap: {
			// 		type: "piecewise",
			// 		splitNumber: 6,
			// 		itemWidth: 10,
			// 		itemHeight: 10,
			// 		itemGap: 5,
			// 		textGap: 5,
			// 		textStyle: {
			// 			fontSize: 10,
			// 			color: "#b0c2f9"
			// 		},
			// 		min: 0,
			// 		max: 600,
			// 		calculable: true,
			// 		seriesIndex: [0]
			// 	},
			// 	geo: {
			// 		map: "china",
			// 		roam: true, //开启鼠标缩放和漫游
			// 		zoom: 1, //地图缩放级别
			// 		selectedMode: "single",
			// 		top: 10,
			// 		bottom: 10,
			// 		layoutCenter: ["50%", "50%"],
			// 		//layoutSize: "100%", //保持地图宽高比
			// 		label: {
			// 			show: true,
			// 			fontSize: 10,
			// 			color: "#ceac09"
			// 		}
			// 	},
			// 	series: [{
			// 		name: "地域分布",
			// 		type: "map",
			// 		geoIndex: 0
			// 	}]
			// };
			// mapChart.setOption(mapChartOpt);
			// $.ajax({
			// 	url: "data/region-count.json",
			// 	dataType: "json"
			// }).done(function () {
			// 	$("#mapChart").addClass("chart-done");
			// }).done(function (data) {
			// 	//console.log('Data: ', data);
			// 	const chartData = [];
			// 	for (let i in data) {
			// 		chartData.push({
			// 			name: data[i].region,
			// 			value: data[i].count
			// 		});
			// 	}
			// 	mapChart.setOption({
			// 		series: [{
			// 			name: "地域分布",
			// 			data: chartData
			// 		}]
			// 	});
			// }).fail(function (jqXHR) {
			// 	console.log("Ajax Fail: ", jqXHR.status, jqXHR.statusText);
			// });

			// //获取月度股票情况数据
			// const trendChart = echarts.init(document.getElementById("trendChart"), "shine");
			// const trendChartOpt = {
			// 	tooltip: {
			// 		trigger: "axis",
			// 		axisPointer: {
			// 			type: "none"
			// 		}
			// 	},
			// 	legend: {
			// 		left: "center",
			// 		bottom: 3,
			// 		itemWidth: 15,
			// 		itemHeight: 10,
			// 		textStyle: {
			// 			fontSize: 12,
			// 			color: "#b0c2f9"
			// 		},
			// 		data: ["市价总值", "成交总额", "平均市盈率"]
			// 	},
			// 	grid: {
			// 		top: 40,
			// 		bottom: 50,
			// 		left: 60,
			// 		right: 60
			// 	},
			// 	xAxis: {
			// 		type: "category",
			// 		axisLine: {
			// 			lineStyle: { color: "#b0c2f9" }
			// 		},
			// 		axisTick: { show: false },
			// 		axisLabel: {
			// 			fontSize: 12,
			// 			color: "#b0c2f9"
			// 		}
			// 	},
			// 	yAxis: [{
			// 		name: "金额",
			// 		type: "value",
			// 		splitNumber: 5,
			// 		axisLine: {
			// 			lineStyle: { color: "#b0c2f9" }
			// 		},
			// 		splitLine: { show: false },
			// 		axisTick: { color: "#b0c2f9" },
			// 		axisLabel: {
			// 			fontSize: 12,
			// 			color: "#b0c2f9",
			// 			formatter: (value, index) => {
			// 				return parseInt(value / 10000) + "万亿";
			// 			}
			// 		}
			// 	}, {
			// 		name: "市盈率",
			// 		type: "value",
			// 		splitNumber: 5,
			// 		maxInterval: 5,
			// 		minInterval: 5,
			// 		interval: 5,
			// 		axisLine: {
			// 			lineStyle: { color: "#b0c2f9" }
			// 		},
			// 		splitLine: { show: false },
			// 		axisTick: { color: "#b0c2f9" },
			// 		axisLabel: {
			// 			fontSize: 12,
			// 			color: "#b0c2f9"
			// 		}
			// 	}],
			// 	visualMap: {
			// 		show: false,
			// 		seriesIndex: 2,
			// 		dimension: 0,
			// 		pieces: [{
			// 			lte: 9,
			// 			color: "rgba(176, 58, 91, 1)"
			// 		}, {
			// 			gt: 9,
			// 			lte: 11,
			// 			color: "rgba(176, 58, 91, 0.5)"
			// 		}]
			// 	},
			// 	series: [{
			// 		name: "市价总值",
			// 		type: "pictorialBar",
			// 		symbol: 'path://d="M150 50 L130 130 L170 130  Z"',
			// 		barCategoryGap: "40%",
			// 		itemStyle: {
			// 			color: function (params) {
			// 				if (params.dataIndex >= 10) {
			// 					return "rgba(119, 96, 246, 0.5)";
			// 				}
			// 				return "rgba(119, 96, 246, 1)";
			// 			}
			// 		},
			// 		markPoint: {
			// 			itemStyle: {
			// 				color: "rgba(119, 96, 246, 1)"
			// 			},
			// 			data: [{
			// 				name: "最大值",
			// 				type: "max"
			// 			}]
			// 		},
			// 		markLine: {
			// 			lineStyle: {
			// 				color: "rgba(119, 96, 246, 1)"
			// 			},
			// 			label: {
			// 				position: "middle",
			// 				formatter: "月度平均市价总值：{c}亿元"
			// 			},
			// 			data: [{
			// 				name: "平均值",
			// 				type: "average"
			// 			}]
			// 		}
			// 	}, {
			// 		name: "成交总额",
			// 		type: "pictorialBar",
			// 		symbol: 'path://d="M150 50 L130 130 L170 130  Z"',
			// 		barCategoryGap: "40%",
			// 		itemStyle: {
			// 			color: function (params) {
			// 				if (params.dataIndex >= 10) {
			// 					return "rgba(230, 182, 0, 0.5)";
			// 				}
			// 				return "rgba(230, 182, 0, 1)";
			// 			}
			// 		},
			// 		markPoint: {
			// 			itemStyle: {
			// 				color: "rgba(230, 182, 0, 1)"
			// 			},
			// 			data: [{
			// 				name: "最大值",
			// 				type: "max"
			// 			}]
			// 		},
			// 		markLine: {
			// 			lineStyle: {
			// 				color: "rgba(230, 182, 0, 1)"
			// 			},
			// 			label: {
			// 				position: "middle",
			// 				formatter: "月度平均成交总额：{c}亿元"
			// 			},
			// 			data: [{
			// 				name: "平均值",
			// 				type: "average"
			// 			}]
			// 		}
			// 	}, {
			// 		name: "平均市盈率",
			// 		type: "line",
			// 		yAxisIndex: 1
			// 	}]
			// };
			// trendChart.setOption(trendChartOpt);
			// $.ajax({
			// 	url: "data/month-count.json",
			// 	dataType: "json"
			// }).done(function () {
			// 	$("#trendChart").addClass("chart-done");
			// }).done(function (data) {
			// 	//console.log('Data: ', data);
			// 	const xData = [];
			// 	const yData1 = [];
			// 	const yData2 = [];
			// 	const yData3 = [];
			// 	for (let i in data) {
			// 		xData.push(data[i].month);
			// 		yData1.push(data[i].sh_market_capitalization);
			// 		yData2.push(data[i].sh_transaction_amount);
			// 		yData3.push(data[i].sh_pe_ratio);
			// 	}
			// 	trendChart.setOption({
			// 		xAxis: {
			// 			data: xData,
			// 		},
			// 		series: [{
			// 			name: "市价总值",
			// 			data: yData1
			// 		}, {
			// 			name: "成交总额",
			// 			data: yData2
			// 		}, {
			// 			name: "平均市盈率",
			// 			data: yData3
			// 		}]
			// 	});
			// }).fail(function (jqXHR) {
			// 	console.log("Ajax Fail: ", jqXHR.status, jqXHR.statusText);
			// });

			// //获取CSRC行业分类数据
			// const csrcChart = echarts.init(document.getElementById("csrcChart"), "shine");
			// const csrcChartOpt = {
			// 	tooltip: {
			// 		trigger: "item",
			// 		formatter: "{b0}<br />股票数：{c0}<br />占比：{d0}%"
			// 	},
			// 	legend: {
			// 		type: "scroll",
			// 		orient: "vertical",
			// 		padding: 0,
			// 		top: 15,
			// 		right: 0,
			// 		itemGap: 5,
			// 		itemWidth: 10,
			// 		itemHeight: 10,
			// 		textStyle: {
			// 			fontSize: 10,
			// 			color: "#b0c2f9"
			// 		}
			// 	},
			// 	series: [{
			// 		name: "CSRC行业分类",
			// 		type: "pie",
			// 		center: ["47%", "55%"],
			// 		radius: ["30%", "85%"]
			// 	}]
			// };
			// csrcChart.setOption(csrcChartOpt);
			// $.ajax({
			// 	url: "data/csrc-industry.json",
			// 	dataType: "json"
			// }).done(function () {
			// 	$("#csrcChart").addClass("chart-done");
			// }).done(function (data) {
			// 	//console.log('Data: ', data);
			// 	const chartData = [];
			// 	for (let i in data) {
			// 		chartData.push({
			// 			name: data[i].alias,
			// 			value: data[i].stock
			// 		});
			// 	}
			// 	csrcChart.setOption({
			// 		series: [{
			// 			name: "CSRC行业分类",
			// 			data: chartData
			// 		}]
			// 	});
			// }).fail(function (jqXHR) {
			// 	console.log("Ajax Fail: ", jqXHR.status, jqXHR.statusText);
			// });

			// //浏览器窗口大小变化时，重置报表大小
			// $(window).resize(function () {
			// 	rankChart.resize();
			// 	mapChart.resize();
			// 	trendChart.resize();
			// 	csrcChart.resize();
			// });
		});

		//数字变化特效
		function rollNum(elId, startVal, endVal, decimalNum) {
			let n = decimalNum || 0;
			let countUp = new CountUp(elId, startVal, endVal, n, 2.5, {
				useEasing: true,
				useGrouping: true,
				separator: ',',
				decimal: '.'
			});
			if (!countUp.error) {
				countUp.start();
			} else {
				console.error(countUp.error);
			}
		}
	</script>
</body>

</html>